##########################
### Fish Tank Automations
##########################


### O2 Automations

  - alias: "Turn on O2 - Daytime"
    trigger:
      platform: time_pattern
      hours: '/2'
    condition:
      - condition: template
        value_template: >
          {{ now().hour > 7 or now().hour <= 18}}
    action:
      - service: switch.turn_on
        entity_id: switch.fishtank_air
      - delay:
          minutes: 5
      - service: switch.turn_off
        entity_id: switch.fishtank_air

  - alias: "Turn on O2 - Night"
    trigger:
      platform: time_pattern
      hours: '/1'
    condition:
      - condition: template
        value_template: >
          {{ now().hour < 7 or now().hour > 22}}
    action:
      - service: switch.turn_on
        entity_id: switch.fishtank_air
      - delay:
          minutes: 15
      - service: switch.turn_off
        entity_id: switch.fishtank_air



### CO2 Automations

  - alias: "Turn on CO2"
    trigger:
      - platform: time
        at: '6:45:00'
    action:
      service: switch.turn_on
      entity_id: switch.fishtank_co2

  - alias: "Turn off CO2"
    trigger:
      - platform: time
        at: '18:30:00'
    action:
      service: switch.turn_off
      entity_id: switch.fishtank_co2


### Light Automations

  - alias: "Turn on lights"
    trigger:
      - platform: time
        at: '7:20:00'
    action:
      service: switch.turn_on
      entity_id: switch.fishtank_light

  - alias: "Turn off lights"
    trigger:
      - platform: time
        at: '19:00:00'
    action:
      service: switch.turn_off
      entity_id: switch.fishtank_light

### Turn back on things in case of power outage
  #
  # - alias: "Fish Tank Power Outage"
  #   trigger:
  #     - platform: state
  #       entity_id: switch.03200121dc4f221b7eef_5
  #       to: 'on'
  #   action:
  #       service: script.turn_on
  #       entity_id: script.fish_power_outage
